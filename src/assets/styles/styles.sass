@use "./reset"
@use "./params"

body
  background-image: url("/assets/imgs/body-background.jpg")
  background-repeat: repeat-y
  background-position: top center
  background-color: var(--body-backgroundColor-base)
  color: var(--body-color-base)
  font-family: var(--body-fontFamily-base), sans-serif
  font-size: var(--body-fontSize-base)
  font-weight: var(--body-fontWeight-default)
  line-height: var(--body-lineHeight-default)
  container: cadre inline-size
  max-width: var(--body-width-default)
  margin: 40px auto var(--space-md) auto


  > header
    position: relative
    background-repeat: no-repeat
    background-position: top left
    background-size: cover
    margin-bottom: 80px
    &.container-heading
      container-type: inline-size
      container-name: heading

    > a:first-of-type
      color: transparent
      font-size: 0
      display: block
      width: 113px
      height: 455px
      background-color: var(--body-backgroundColor-base)
      background-image: url("/assets/svgs/logo-accolade-vertical.svg")
      background-repeat: no-repeat
      background-position: top 30px left 30px


    nav
      position: fixed
      top: 4%
      right: 15%
      z-index: 2
      opacity: 1
      display: flex
      flex-flow: row nowrap
      justify-content: flex-end
      align-items: center
      column-gap: var(--space-md)
      > a
        background-color: var(--surface-backgroundColor-secondary)
        font-size: var(--fontSize-xs)
        padding: 10px
      &:not(.open)
        display: flex
        > a
          opacity: 1
          transition: opacity .5s ease-in-out
        > menu
          top: -900px

      &.open
        > a
          opacity: 0
        > menu
          top: 0


    menu
      position: absolute
      top: 0
      right: 0
      z-index: 100
      padding: 20px
      display: flex
      flex-flow: column nowrap
      justify-content: flex-start
      align-items: stretch
      column-gap: var(--space-md)
      font-family: var(--fontFamily-title)
      font-size: var(--fontSize-xs)
      text-transform: uppercase
      background-color: var(--surface-backgroundColor-secondary)
      transition: top .3s ease-in-out
      text-align: center
      > li

        &:first-child
          align-self: flex-end
          > a
            border: none
        > a
          display: block
          padding: 10px 0
          border-top: 1px solid var(--color-neutre-darker)
          white-space: nowrap
          &:hover, &:active
            color: var(--color-white)


    > span
      position: absolute
      bottom: 60px
      right: 30px
      display: flex
      flex-flow: row wrap
      justify-content: flex-start
      align-items: center
      column-gap: 30px
      font-size: 80px
      height: 80px
      font-family: var(--fontFamily-title)
      color: var(--text-color-primary)
      &::after
        content: url("/assets/svgs/picto-pointe-big-vertical.svg")
        width: 90px
        height: 90px
      > span
        color: var(--color-white)


    aside
      max-width: 226px
      padding: 30px var(--space-md) 0 0
      background-color: var(--body-backgroundColor-base)
      h1
        font-size: var(--fontSize-xl)
        line-height: 2.2
        text-align: center
      p
        font-size: var(--fontSize-sm)
        font-weight: 400


    // ----- responsivity
    @container heading (width < 1400px)
      height: 180px
      > span
        display: none
      > a:first-of-type
        width: 70px
        height: 180px
        background-color: transparent
        background-image: url("/assets/svgs/picto-pointe-green.svg")
        background-position: top 10px left 10px
      > aside
        position: relative
        top: 50px
        margin: 0 auto
        max-width: 500px
        text-align: center
        padding: var(--space-md)
      &.project
        min-height: 360px
        background-position: center center
        > aside
          position: absolute
          top: revert
          bottom: 0
          left: 50%
          transform: translate(-50%, 50%)
          display: flex
          flex-flow: row nowrap
          justify-content: center
          align-items: center
          column-gap: var(--space-lg)
          background-color: transparent
          max-width: none
          padding: 0
          h1
            display: none
          > .btn-projects-nav
            width: 120px


  > main
    > section
      position: relative
      margin: 0 auto 80px auto
      > h2
        display: inline-block
        margin-bottom: 30px


  > footer
    position: relative
    background-color: var(--surface-backgroundColor-secondary)
    display: flex
    flex-flow: row wrap
    justify-content: space-between
    align-items: center
    height: 149px
    padding: 36px 48px
    font-size: var(--fontSize-xs)
    &.container-footer
      container-name: container-footer
      container-type: inline-size
    &::before, &::after
      display: block
      position: absolute
      top: 12px
      content: ""
      width: 48px
      height: 125px
      background-repeat: no-repeat
    &::before
      left: 12px
      background-image: url("/assets/svgs/picto-crochet-ouvrant.svg")
    &::after
      right: 12px
      background-image: url("/assets/svgs/picto-crochet-fermant.svg")


    // responsivity
    @container container-footer (width > 680px)
      > div
        > *:not(:first-child)::before
          content: " - "
    @container container-footer (width < 680px)
      > div
        display: flex
        flex-flow: column wrap
        justify-content: center
        align-items: center
        text-align: center
        max-width: 260px
        font-size: var(--fontSize-xs)


h1, h2, h3, h4, h5, h6
  font-family: var(--fontFamily-title)
  text-transform: uppercase
  > small
    display: block
    font-size: .5em
    color: var(--text-color-primary)
    text-transform: uppercase


h2
  font-size: var(--fontSize-xl)
  &.with-line
    background-color: var(--body-backgroundColor-base)
    padding-right: 50px
    &::after
      position: absolute
      top: 30px
      z-index: -1
      display: block
      content: ""
      width: 100%
      height: 1px
      background-color: var(--color-green)


h3
  font-size: var(--fontSize-md)

.strong
  font-weight: var(--fontWeight-bold)!important

a, .link
  color: var(--link-rest-color)
  text-decoration: none
  cursor: pointer


ul.bulleted-list
  display: flex
  flex-flow: column nowrap
  justify-content: flex-start
  align-items: stretch
  font-family: var(--fontFamily-default)
  font-size: var(--fontSize-sm)
  font-style: italic
  > li
    display: flex
    flex-flow: row nowrap
    justify-content: flex-start
    align-items: center
    column-gap: 1ch
    &::before
      content: "-"


.btn
  position: relative
  display: inline-flex
  flex-flow: row wrap
  align-items: center
  justify-content: center
  font-family: var(--fontFamily-title)
  font-size: var(--fontSize-defaut)
  text-transform: uppercase
  color: var(--color-black)
  padding: 7px var(--space-md)
  border: none
  cursor: pointer
  text-decoration: none
  transition: all 0.5s ease
  &-projects-nav
    flex-flow: column nowrap
    justify-content: flex-start
    align-items: flex-start
    background-color: var(--color-neutre-darker)
    font-weight: 400
    width: 90%
    margin: 10px auto
    > small
      display: block
      font-weight: 100
      font-size: var(--fontSize-xs)
      flex: 1 1 100%
    &::after
      content: url("/assets/svgs/picto-button-next-off.svg")
      position: absolute
      right: 0
      transform: translateX(50%)
    &:hover, &.selected
      background-color: var(--surface-backgroundColor-accent)
      &::after
        content: url("/assets/svgs/picto-button-next-on.svg")
    &.--reverse
      align-items: flex-end
      &::after
        right: unset
        left: 0
        transform: rotate(-180deg) translateX(50%)

  &-page-nav
    background-color: var(--surface-backgroundColor-accent)
    &::after
      content: url("/assets/svgs/picto-groupe-pointe-off.svg")
      position: absolute
      right: -75px
      top: 50%
      transform: translateY(-50%)
    &:hover, .selected
      &::after
        content: url("/assets/svgs/picto-groupe-pointe-on.svg")
  &-tag
    display: inline-flex
    flex-flow: row wrap
    justify-content: center
    align-items: center
    background-color: var(--color-neutre-darkest)
    padding: var(--space-sm)
    border: 1px solid var(--color-neutre-darker)
    font-size: var(--fontSize-xs)
    color: var(--color-white)
    text-transform: uppercase
    &:hover
      border-color: var(--color-green)
      color: var(--color-green)
    &:focus, &.selected
      border-color: var(--color-green)


.tags-list
  display: flex
  flex-flow: row wrap
  justify-content: flex-start
  align-items: center
  column-gap: 3px
  font-size: var(--fontSize-sm)
  color: var(--link-rest-color)
  > li
    display: flex
    flex-flow: row wrap
    justify-content: space-between
    align-items: center
    column-gap: 3px
    &:not(:last-child)::after
      display: block
      content: "•"
      color: white


.mosaic
  > article
    display: grid
    grid-template-columns: 1fr repeat(2, minmax(300px, 470px)) 1fr
    column-gap: var(--space-lg)
    row-gap: var(--space-md)
    &::before
      grid-area: linea
    &::after
      grid-area: lineb
    &::before, &::after
      justify-self: center
      display: block
      content: ""
      width: 1px
      height: 100%
      background-color: var(--color-green)
    > img
      grid-area: picture
    > div
      display: flex
      flex-flow: column nowrap
      justify-content: flex-start
      align-items: flex-start
      row-gap: var(--space-md)
      background-color: var(--surface-backgroundColor-secondary)
      padding: var(--space-lg)
      font-size: var(--fontSize-md)
      font-family: var(--fontFamily-title)
      h3
        color: var(--text-color-primary)
      p
        font-family: var(--fontFamily-default)
        text-transform: none
        color: var(--text-color-default)
        font-size: var(--fontSize-sm)
      &:nth-of-type(1)
        grid-area: carda
      &:nth-of-type(2)
        grid-area: cardb
      &:nth-of-type(3)
        grid-area: cardc
      &:nth-of-type(4)
        grid-area: cardd
      &:nth-of-type(5)
        grid-area: carde


#tags
  &.tags-list
    justify-content: space-between
    > *
      flex: 0 1 auto


#presentation, #equipe
  p
    margin-bottom: var(--space-lg)
  > ul
    display: flex
    flex-flow: row wrap
    justify-content: space-around
    align-items: stretch
    gap: var(--space-lg) var(--space-md)
    > li
      flex: 1 1 10%
      display: flex
      flex-flow: column nowrap
      justify-content: flex-start
      align-items: center
      row-gap: var(--space-md)
      background-color: var(--surface-backgroundColor-secondary)
      padding: var(--space-md)
      font-family: var(--fontFamily-title)
      font-size: var(--fontSize-sm)
      h3
        color: var(--text-color-primary)
      p
        font-family: var(--fontFamily-default)
        text-transform: none
        color: var(--text-color-default)
        text-align: center


#equipe
  p
    column-count: 2
    column-width: 300px
    column-gap: var(--space-lg)
    img
      display: block
      max-width: 100%
      height: auto
      margin-bottom: var(--space-sm)
  > ul
    > li
      flex: 0 1 210px
      align-items: stretch
      > h3
        color: var(--text-color-default)
      > p
        font-size: var(--fontSize-defaut)
        text-align: left
        > small
          font-size: var(--fontSize-xs)
          font-weight: var(--fontWeight-thin)
      > img
        width: 100%
        height: auto
        // background-color: var(--surface-backgroundColor-primary)


#expertises
  h2
    background-color: var(--body-backgroundColor-base)
    padding-right: 50px
  > nav
    display: grid
    grid-template-columns: 1fr repeat(3, minmax(300px, 300px)) 1fr
    grid-template-areas: "linea carda cardb cardc lineb" "linea cardd cardd cardd lineb"
    gap: var(--space-lg)
    &::before
      grid-area: linea
    &::after
      grid-area: lineb
    &::before, &::after
      justify-self: center
      display: block
      content: ""
      width: 1px
      height: 100%
      background-color: var(--color-green)
    > .link
      display: flex
      flex-flow: column nowrap
      justify-content: flex-start
      align-items: center
      row-gap: 25px
      background-color: var(--surface-backgroundColor-secondary)
      padding: 30px
      text-transform: uppercase
      font-size: var(--fontSize-md)
      font-family: var(--fontFamily-title)
      text-align: center
      em
        font-family: var(--fontFamily-default)
        text-transform: none
        color: var(--text-color-default)
        font-size: var(--fontSize-sm)
      &::after
        display: block
        content: ""
        width: 83px
        height: 24px
        background-image: url("/assets/svgs/picto-groupe-pointe-off.svg")
        background-repeat: no-repeat
      &::before
        display: block
        content: ""
        width: 75px
        height: 75px
        background-repeat: no-repeat
      &:hover, .active
        &::after
          background-image: url("/assets/svgs/picto-groupe-pointe-on.svg")
      &:nth-of-type(3)
        grid-area: carda
        &::before
          background-image: url("/assets/svgs/picto-labo.svg")
      &:nth-of-type(1)
        grid-area: cardb
        &::before
          background-image: url("/assets/svgs/picto-creation-site.svg")
      &:nth-of-type(2)
        grid-area: cardc
        &::before
          background-image: url("/assets/svgs/picto-creation-graphique.svg")
      &:nth-of-type(4)
        grid-area: cardd
        row-gap: 10px
        padding: var(--space-lg)  var(--space-md)
        &::after, &::before
          display: none
        em
          position: relative
          display: flex
          flex-flow: row nowrap
          justify-content: space-between
          align-items: center
          padding: 10px 60px
          &::before, &::after
            display: block
            position: absolute
            content: ""
            width: var(--space-lg)
            height: 30px
            background-repeat: no-repeat
          &::before
            top: 0
            left: 0
            background-image: url("/assets/svgs/picto-guillemet-ouvrante.svg")
          &::after
            bottom: 0
            right: 0
            background-image: url("/assets/svgs/picto-guillemet-fermante.svg")


#creation-web
  > article
    > div
      &:nth-of-type(4)
        h3
          align-self: center
        p
          text-align: center
          font-style: italic


#laboratoire
  > article
    grid-template-areas: "linea carda cardb lineb" "linea picture cardc lineb" "linea cardd carde lineb"


#creation-web, #graphic-design
  > article
    grid-template-areas: "linea picture carda lineb" "linea picture cardb lineb" "linea picture cardc lineb" "linea cardd cardd lineb"


#expertises, #creation-web, #graphic-design, #laboratoire
  margin-bottom: 100px

#projets, #projects
  > .slider__content
    display: flex
    flex-flow: row nowrap
    justify-content: flex-start
    align-items: flex-start
    gap: var(--space-md)
    overflow: hidden
    margin-bottom: var(--space-md)
    > a
      display: flex
      flex-flow: column nowrap
      justify-content: flex-start
      align-items: flex-start
      flex: 0 0 250px
      color: var(--text-color-primary)
      row-gap: 0
      text-decoration: none
      > img
        background-color: var(--surface-backgroundColor-secondary)
        object-fit: cover
        aspect-ratio: 248 / 157
        margin-bottom: 5px
      > em
        color: var(--color-neutre-light)
        font-size: var(--fontSize-xs)
  > .slider__nav
    display: flex
    flex-flow: row wrap
    justify-content: space-around
    align-items: center
    column-gap: var(--space-md)
    width: 100%
    > *:first-child
      transform: rotate(180deg)
    > .separation
        display: block
        content: ""
        flex: 0 0 80%
        height: 1px
        background-color: var(--color-green)


#projets
  &.container-projets
    container-type: inline-size
    container-name: projets
  @container projets (width < 1400px)
    > .slider__content
      flex-flow: row nowrap
      width: 100%
      overflow-x: visible
      scrollbar-color:  var(--color-green) var(--surface-backgroundColor-secondary)
      scrollbar-width: thin
      padding-bottom: var(--space-md)
    >.slider__nav
      display: none

#projects
  > .slider__content
    flex-wrap: wrap



#contact
  display: flex
  flex-flow: column nowrap
  justify-content: center
  align-items: center
  background-color: var(--surface-backgroundColor-secondary)
  padding: 30px
  max-width: 980px
  h2
    font-size: var(--fontSize-lg)
    color: var(--text-color-primary)
  h3
    display: flex
    align-items: center
    column-gap: var(--space-md)


#project-details
  margin-right: auto
  margin-left: auto
  header
    position: relative
    display: flex
    flex-flow: row wrap
    justify-content: space-between
    align-items: stretch
    column-gap: var(--space-lg)
    margin-bottom: 50px
    &::after
      content: ""
      display: block
      min-height: 250px
      max-height: 350px
      width: 1px
      background-color: var(--color-green)
    > img
      flex: 0 0 810px
    > aside
      display: flex
      flex-flow: column nowrap
      justify-content: flex-start
      align-items: stretch
      row-gap: var(--space-md)
      background-color: var(--surface-backgroundColor-secondary)
      flex: 0 0 400px
      padding: var(--space-lg)  var(--space-lg)  70px var(--space-lg)
      height: 512px
      > section
        display: flex
        flex-flow: row wrap
        justify-content: flex-start
        align-items: flex-start
        column-gap: 30px
      > img
        width: 75px
        height: 75px
      > *
        flex: 0 0 auto
      > p
        flex: 1 1 auto
        font-size: var(--fontSize-sm)
        padding-right: 10px
        overflow: hidden
        overflow-y: auto
        scrollbar-color:  var(--color-green) var(--surface-backgroundColor-secondary)
        scrollbar-width: thin
    > .btn
      position: absolute
      bottom: 10px
      right: var(--space-md)

  .masonry-container
    width: 100%
    /* Définit le nombre de colonnes */
    column-count: 3
    /* Définit l'espacement entre les colonnes */
    column-gap: 10px
    /* Pour s'assurer que les images et autres médias ne dépassent pas */
    break-inside: avoid
    > *
      display: block
      /* Empêche les cartes d'être coupées entre deux colonnes */
      break-inside: avoid
      /* Assure une marge visuelle en bas de chaque carte */
      margin-bottom: 5px
      /* Optionnel : pour que les éléments remplissent leur colonne */
      width: 100%
      opacity: 0
      filter: blur(5px)
      transform: translateY(20px)
      /* Applique l'animation à tous les éléments */
      animation-name: fadeInBlur
      animation-duration: 0.8s /* Durée de l'animation elle-même */
      animation-fill-mode: forwards /* Maintient l'état final (visible/net) */
      animation-timing-function: ease-out
      &:nth-child(3n + 1)
        animation-delay: 0.1s
      &:nth-child(3n + 2)
        animation-delay: 0.5s
      &:nth-child(3n)
        animation-delay: 0.9s
      &:nth-child(5n + 4)
        animation-delay: 0.3s
      &:nth-child(5n + 5)
        animation-delay: 0.7s
    @keyframes fadeInBlur
      0%
        /* État initial : invisible, flou, légèrement décalé */
        opacity: 0
        filter: blur(5px)
        transform: translateY(20px)
      100%
        /* État final : visible, net, à sa place */
        opacity: 1
        filter: blur(0)
        transform: translateY(0)


#infos-contact
  margin-bottom: 50px
  h2
    background-color: var(--body-backgroundColor-base)
    padding-right: 50px
    &::after
      position: absolute
      top: 30px
      z-index: -1
      display: block
      content: ""
      width: 100%
      height: 1px
      background-color: var(--color-green)
  > nav
    display: grid
    grid-template-columns: minmax(50px, 150px) repeat(2, minmax(300px, 1fr)) minmax(50px, 150px)
    gap: var(--space-lg)
    &::before, &::after
      grid-column: span 1
      justify-self: center
      display: block
      content: ""
      width: 1px
      height: 100%
      background-color: var(--color-green)
    > a
      position: relative
      display: flex
      flex-flow: column nowrap
      justify-content: center
      align-items: center
      row-gap: 25px
      background-color: var(--surface-backgroundColor-secondary)
      color: var(--color-white)
      > h3
        color: var(--text-color-primary)
      > p
        font-weight: var(--fontWeight-thin)
        text-align: center
      > img
        width: 100%
        height: 100%
        object-fit: cover
      &:nth-child(1)
        &::after
          position: absolute
          top: 63%
          left: 18%
          z-index: 2
          content: url("/assets/svgs/picto-pin.svg")
          width: 28px
          height: 36px


#mentions
  margin-bottom: 50px
  h2
    background-color: var(--body-backgroundColor-base)
    padding-right: 50px
    &::after
      position: absolute
      top: 30px
      z-index: -1
      display: block
      content: ""
      width: 100%
      height: 1px
      background-color: var(--color-green)
  > nav
    display: grid
    grid-template-columns: minmax(50px, 150px) repeat(2, minmax(300px, 1fr)) minmax(50px, 150px)
    gap: var(--space-lg)
    &::before, &::after
      grid-column: span 1
      justify-self: center
      display: block
      content: ""
      width: 1px
      height: 100%
      background-color: var(--color-green)
    > div
      position: relative
      display: flex
      flex-flow: column nowrap
      justify-content: flex-start
      align-items: stretch
      background-color: var(--surface-backgroundColor-secondary)
      color: var(--color-white)
      padding: 30px
      > h3
        text-align: center
        color: var(--text-color-primary)
        margin-bottom: var(--space-md)
      > p
        display: flex
        flex-flow: row wrap
        justify-content: space-between
        align-items: flex-start
        font-size: var(--fontSize-sm)
        text-align: right
        > *
          &:first-child
            font-weight: var(--fontWeight-bold)
            color: var(--color-neutre-darker)


@media (width < 1400px)
  body
    background-image: none
    margin: 0 5px var(--space-md) 5px
    h2
      font-size: var(--fontSize-lg)
    h3
      font-size: var(--fontSize-defaut)

    > main
      > section
        padding: 0 var(--space-md)
        h2
          display: block !important
          text-align: center !important
          padding-right: 0 !important
          &.with-line::after
            display: none !important


      #expertises
        h2
          padding-right: 0
        > nav
          grid-template-columns: repeat(3, minmax(100px, 1fr))
          grid-template-areas: "carda cardb cardc" "cardd cardd cardd"
          gap: 10px
          &::after, &::before
            display: none
          > .link, a
            font-size: var(--fontSize-xs)
            padding: 15px 0
            &::before
              width: 50px
              height: 50px
              background-size: cover
            &::after
              display: none
            > em
              display: none
            &:nth-child(4)
              em
                padding: 10px
                &::before,&::after
                  display: none

      #infos-contact, #mentions
        h2
          padding-right: 0
        > nav
          display: flex
          flex-flow: column nowrap
          &::after, &::before
            display: none
          > a
            font-size: var(--fontSize-sm)
            &:nth-child(2)
              padding: var(--space-md)

      #project-details
        width: auto
        > header
          flex-direction: column
          > img, &::after
            display: none
          > .btn
            right: revert
            bottom: 15px
            left: 50%
            transform: translateX(-50%)
          > aside
              > section
                > img
                  width: 50px
        .masonry-container
          column-count: 1


      #contact
        --marge: var(--space-md)
        max-width: calc(100vw - var(--marge) * 2)
        margin-right: var(--marge)
        margin-left: var(--marge)
        h3
          flex-direction: column
          row-gap: 10px

@media (width < 1400px)
  body
    > header
      > aside
        max-width: 90vw
    > footer
      flex-flow: column nowrap
      row-gap: 10px
      margin-right: var(--space-md)
      margin-left: var(--space-md)
