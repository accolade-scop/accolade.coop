@use "./reset"
@use "./params"

body
  background-image: url("/assets/svgs/texture-rayures.svg")
  background-repeat: repeat-y
  background-position: center top
  backdrop-filter: opacity(5%)
  background-color: var(--body-backgroundColor-base)
  color: var(--body-color-base)
  font-family: var(--body-fontFamily-base), sans-serif
  font-size: var(--body-fontSize-base)
  font-weight: var(--body-fontWeight-default)
  line-height: var(--body-lineHeight-default)
  container: cadre inline-size
  max-width: var(--body-width-default)
  margin: 40px auto 20px auto


  > header
    position: relative
    background-repeat: no-repeat
    background-position: top left
    background-size: cover
    margin-bottom: 80px

    > a
      display: block
      width: 113px
      height: 455px
      background-color: var(--body-backgroundColor-base)
      background-image: url("/assets/svgs/logo-accolade-vertical.svg")
      background-repeat: no-repeat
      background-position: top 30px left 30px


    nav, menu
      display: flex
      flex-flow: row wrap
      justify-content: flex-start
      align-items: center


    nav
      position: absolute
      top: 0
      right: 0
      z-index: 2
      // padding: 30px
      background-color: var(--body-backgroundColor-base)
      overflow: hidden
      &:not(.open)
        display: inline-block
        > menu
          display: none
      &.open
        > a
          display: none


    menu
      font-family: var(--fontFamily-title)
      column-gap: 0
      font-size: var(--fontSize-sm)
      text-transform: uppercase
      transition: all 2s linear
      a
        display: flex
    > span
      position: absolute
      bottom: 60px
      right: 30px
      display: flex
      flex-flow: row wrap
      justify-content: flex-start
      align-items: center
      column-gap: 30px
      font-size: 80px
      height: 80px
      font-family: var(--fontFamily-title)
      color: var(--text-color-primary)
      &::after
        content: url("/assets/svgs/picto-pointe-big-vertical.svg")
        width: 90px
        height: 90px
      > span
        color: var(--color-white)


    aside
      max-width: 205px
      padding: 30px 30px 0 0
      background-color: var(--body-backgroundColor-base)
      h1
        font-size: var(--fontSize-xl)
        line-height: 2.2
      p
        font-size: var(--fontSize-sm)
        font-weight: 400


  > main
    > section
      position: relative
      margin: 0 auto 80px auto
      > h2
        display: inline-block
        margin-bottom: 30px


  > footer
    position: relative
    background-color: var(--surface-backgroundColor-secondary)
    display: flex
    flex-flow: row wrap
    justify-content: space-between
    align-items: center
    height: 149px
    padding: 36px 48px
    font-size: var(--fontSize-defaut)
    &::before, &::after
      display: block
      position: absolute
      top: 12px
      content: ""
      width: 48px
      height: 125px
      background-repeat: no-repeat
    &::before
      left: 12px
      background-image: url("/assets/svgs/picto-crochet-ouvrant.svg")
    &::after
      right: 12px
      background-image: url("/assets/svgs/picto-crochet-fermant.svg")


h1, h2, h3, h4, h5, h6
  font-family: var(--fontFamily-title)
  text-transform: uppercase
  > small
    display: block
    font-size: .5em
    color: var(--text-color-primary)
    text-transform: uppercase


h2
  font-size: var(--fontSize-xl)
  &.with-line
    background-color: var(--body-backgroundColor-base)
    padding-right: 50px
    &::after
      position: absolute
      top: 30px
      z-index: -1
      display: block
      content: ""
      width: 100%
      height: 1px
      background-color: var(--color-green)


h3
  font-size: var(--fontSize-md)
.strong
  font-weight: var(--fontWeight-bold)!important

a, .link
  color: var(--link-rest-color)
  text-decoration: none

.btn
  position: relative
  display: inline-flex
  flex-flow: row wrap
  align-items: center
  justify-content: center
  font-family: var(--fontFamily-title)
  font-size: var(--fontSize-defaut)
  text-transform: uppercase
  color: var(--color-black)
  padding: 7px 20px
  border: none
  cursor: pointer
  text-decoration: none
  transition: all 0.5s ease
  &-projects-nav
    flex-flow: column nowrap
    justify-content: flex-start
    align-items: flex-start
    background-color: var(--color-neutre-darker)
    font-weight: 400
    width: 150px
    margin: 10px 0
    > small
      display: block
      font-weight: 100
      font-size: var(--fontSize-xs)
      flex: 1 1 100%
    &::after
      content: url("/assets/svgs/picto-button-next-off.svg")
      position: absolute
      right: 0
      transform: translateX(50%)
    &:hover, &.selected
      background-color: var(--surface-backgroundColor-accent)
      &::after
        content: url("/assets/svgs/picto-button-next-on.svg")
    &.--reverse
      align-items: flex-end
      &::after
        right: unset
        left: 0
        transform: rotate(-180deg) translateX(50%)


  &-page-nav
    background-color: var(--surface-backgroundColor-accent)
    &::after
      content: url("/assets/svgs/picto-groupe-pointe-off.svg")
      position: absolute
      right: -75px
      top: 50%
      transform: translateY(-50%)
    &:hover, .selected
      &::after
        content: url("/assets/svgs/picto-groupe-pointe-on.svg")


.tags-list
  display: flex
  flex-flow: row wrap
  justify-content: flex-start
  align-items: center
  column-gap: 3px
  font-size: var(--fontSize-sm)
  color: var(--link-rest-color)
  > li
    display: flex
    flex-flow: row wrap
    justify-content: space-between
    align-items: center
    column-gap: 3px
    &:not(:last-child)::after
      display: block
      content: "•"
      color: white


#expertises
  margin-bottom: 50px
  h2
    background-color: var(--body-backgroundColor-base)
    padding-right: 50px

  > nav
    display: grid
    grid-template-columns: 1fr repeat(3, minmax(300px, 300px)) 1fr
    grid-template-areas: "linea carda cardb cardc lineb" "linea cardd cardd cardd lineb"
    gap: 40px
    &::before
      grid-area: linea
    &::after
      grid-area: lineb
    &::before, &::after
      justify-self: center
      display: block
      content: ""
      width: 1px
      height: 100%
      background-color: var(--color-green)
    > .link
      display: flex
      flex-flow: column nowrap
      justify-content: flex-start
      align-items: center
      row-gap: 25px
      background-color: var(--surface-backgroundColor-secondary)
      padding: 30px
      text-transform: uppercase
      font-size: var(--fontSize-md)
      font-family: var(--fontFamily-title)
      text-align: center
      em
        font-family: var(--fontFamily-default)
        text-transform: none
        color: var(--text-color-default)
        font-size: var(--fontSize-sm)
      &::after
        display: block
        content: ""
        width: 83px
        height: 24px
        background-image: url("/assets/svgs/picto-groupe-pointe-off.svg")
        background-repeat: no-repeat
      &::before
        display: block
        content: ""
        width: 75px
        height: 75px
        background-repeat: no-repeat
      //&:hover, .active
      //  &::after
      //    background-image: url("/assets/svgs/picto-groupe-pointe-on.svg")
      &:nth-of-type(3)
        grid-area: carda
        &::before
          background-image: url("/assets/svgs/picto-labo.svg")
      &:nth-of-type(1)
        grid-area: cardb
        &::before
          background-image: url("/assets/svgs/picto-creation-site.svg")
      &:nth-of-type(2)
        grid-area: cardc
        &::before
          background-image: url("/assets/svgs/picto-creation-graphique.svg")
      &:nth-of-type(4)
        grid-area: cardd
        row-gap: 10px
        padding: 40px 20px
        &::after, &::before
          display: none
        em
          position: relative
          display: flex
          flex-flow: row nowrap
          justify-content: space-between
          align-items: center
          padding: 10px 60px
          &::before, &::after
            display: block
            position: absolute
            content: ""
            width: 40px
            height: 30px
            background-repeat: no-repeat
          &::before
            top: 0
            left: 0
            background-image: url("/assets/svgs/picto-guillemet-ouvrante.svg")
          &::after
            bottom: 0
            right: 0
            background-image: url("/assets/svgs/picto-guillemet-fermante.svg")


#projets
  position: relative
  > .slider__content
    display: flex
    flex-flow: row wrap
    justify-content: flex-start
    align-items: flex-start
    gap: 20px
    overflow: hidden
    margin-bottom: 20px
    > a
      display: flex
      flex-flow: column nowrap
      justify-content: flex-start
      align-items: flex-start
      flex: 0 0 250px
      color: var(--text-color-primary)
      row-gap: 0
      text-decoration: none
      > img
        background-color: var(--surface-backgroundColor-secondary)
        object-fit: cover
        aspect-ratio: 248 / 157
        margin-bottom: 5px
      > em
        color: var(--color-neutre-medium)
        font-size: var(--fontSize-xs)
  > .slider__nav
    display: flex
    flex-flow: row wrap
    justify-content: space-around
    align-items: center
    column-gap: 20px
    width: 100%
    > *:first-child
      transform: rotate(180deg)
    > .separation
        display: block
        content: ""
        flex: 0 0 80%
        height: 1px
        background-color: var(--color-green)


#contact
  display: flex
  flex-flow: column nowrap
  justify-content: center
  align-items: center
  background-color: var(--surface-backgroundColor-secondary)
  padding: 30px
  max-width: 980px
  h2
    font-size: var(--fontSize-lg)
    color: var(--text-color-primary)
  h3
    display: flex
    align-items: center
    column-gap: 20px


#project-details
  margin-right: auto
  margin-left: auto
  header
    position: relative
    display: flex
    flex-flow: row wrap
    justify-content: space-between
    align-items: stretch
    column-gap: 40px
    margin-bottom: 50px
    &::after
      content: ""
      display: block
      min-height: 250px
      max-height: 350px
      width: 1px
      background-color: var(--color-green)
    > img
      flex: 0 0 810px
    > aside
      display: flex
      flex-flow: column nowrap
      justify-content: flex-start
      align-items: stretch
      row-gap: 20px
      background-color: var(--surface-backgroundColor-secondary)
      flex: 0 0 400px
      padding: 40px 40px 70px 40px
      height: 512px
      > section
        display: flex
        flex-flow: row wrap
        justify-content: flex-start
        align-items: flex-start
        column-gap: 30px
      > img
        width: 75px
        height: 75px
      > *
        flex: 0 0 auto
      > p
        flex: 1 1 auto
        font-size: var(--fontSize-sm)
        padding-right: 10px
        overflow: hidden
        overflow-y: auto
        scrollbar-color:  var(--color-green) var(--surface-backgroundColor-secondary)
        scrollbar-width: thin
    > .btn
      position: absolute
      bottom: 10px
      right: 20px

  .masonry-container
    width: 100%
    /* Définit le nombre de colonnes */
    column-count: 3
    /* Définit l'espacement entre les colonnes */
    column-gap: 10px
    /* Pour s'assurer que les images et autres médias ne dépassent pas */
    break-inside: avoid
    > *
      display: block
      /* Empêche les cartes d'être coupées entre deux colonnes */
      break-inside: avoid
      /* Assure une marge visuelle en bas de chaque carte */
      margin-bottom: 5px
      /* Optionnel : pour que les éléments remplissent leur colonne */
      width: 100%
      opacity: 0
      filter: blur(5px)
      transform: translateY(20px)
      /* Applique l'animation à tous les éléments */
      animation-name: fadeInBlur
      animation-duration: 0.8s /* Durée de l'animation elle-même */
      animation-fill-mode: forwards /* Maintient l'état final (visible/net) */
      animation-timing-function: ease-out
      &:nth-child(3n + 1)
        animation-delay: 0.1s
      &:nth-child(3n + 2)
        animation-delay: 0.5s
      &:nth-child(3n)
        animation-delay: 0.9s
      &:nth-child(5n + 4)
        animation-delay: 0.3s
      &:nth-child(5n + 5)
        animation-delay: 0.7s
    @keyframes fadeInBlur
      0%
        /* État initial : invisible, flou, légèrement décalé */
        opacity: 0
        filter: blur(5px)
        transform: translateY(20px)
      100%
        /* État final : visible, net, à sa place */
        opacity: 1
        filter: blur(0)
        transform: translateY(0)


#infos-contact
  margin-bottom: 50px
  h2
    background-color: var(--body-backgroundColor-base)
    padding-right: 50px
    &::after
      position: absolute
      top: 30px
      z-index: -1
      display: block
      content: ""
      width: 100%
      height: 1px
      background-color: var(--color-green)
  > nav
    display: grid
    grid-template-columns: minmax(50px, 150px) repeat(2, minmax(300px, 1fr)) minmax(50px, 150px)
    gap: 40px
    &::before, &::after
      grid-column: span 1
      justify-self: center
      display: block
      content: ""
      width: 1px
      height: 100%
      background-color: var(--color-green)
    > a
      position: relative
      display: flex
      flex-flow: column nowrap
      justify-content: center
      align-items: center
      row-gap: 25px
      background-color: var(--surface-backgroundColor-secondary)
      color: var(--color-white)
      > h3
        color: var(--text-color-primary)
      > p
        font-weight: var(--fontWeight-thin)
        text-align: center
      > img
        width: 100%
        height: 100%
        object-fit: cover
      &:nth-child(1)
        &::after
          position: absolute
          top: 63%
          left: 18%
          z-index: 2
          content: url("/assets/svgs/picto-pin.svg")
          width: 28px
          height: 36px


#mentions
  margin-bottom: 50px
  h2
    background-color: var(--body-backgroundColor-base)
    padding-right: 50px
    &::after
      position: absolute
      top: 30px
      z-index: -1
      display: block
      content: ""
      width: 100%
      height: 1px
      background-color: var(--color-green)
  > nav
    display: grid
    grid-template-columns: minmax(50px, 150px) repeat(2, minmax(300px, 1fr)) minmax(50px, 150px)
    gap: 40px
    &::before, &::after
      grid-column: span 1
      justify-self: center
      display: block
      content: ""
      width: 1px
      height: 100%
      background-color: var(--color-green)
    > div
      position: relative
      display: flex
      flex-flow: column nowrap
      justify-content: flex-start
      align-items: stretch
      background-color: var(--surface-backgroundColor-secondary)
      color: var(--color-white)
      padding: 30px
      > h3
        text-align: center
        color: var(--text-color-primary)
        margin-bottom: 20px
      > p
        display: flex
        flex-flow: row wrap
        justify-content: space-between
        align-items: flex-start
        font-size: var(--fontSize-sm)
        text-align: right
        > *
          &:first-child
            font-weight: var(--fontWeight-bold)
            color: var(--color-neutre-darker)


@media (width < 1400px)
  body
    background-image: none
    margin: 0 5px 20px 5px
    h2
      font-size: var(--fontSize-lg)
    h3
      font-size: var(--fontSize-defaut)
    > header
      > span
        display: none
      > a
        width: 70px
        height: 70px
        background-color: transparent
        background-image: url("/assets/svgs/picto-pointe-green.svg")
        background-position: top 10px left 10px
      > aside
        position: relative
        top: 50px
        margin: 0 auto
        max-width: 330px
        text-align: center
        padding: 20px
      &.project
        min-height: 360px
        background-position: center center
        > aside
          position: absolute
          top: revert
          bottom: 0
          left: 50%
          transform: translate(-50%, 50%)
          display: flex
          flex-flow: row nowrap
          justify-content: center
          align-items: center
          column-gap: 40px
          background-color: transparent
          max-width: none
          padding: 0
          h1
            display: none
          > .btn-projects-nav
            width: 120px

    > main
      > section
        padding: 0 20px
        h2
          display: block !important
          text-align: center !important
          padding-right: 0 !important
          &.with-line::after
            display: none !important

      #expertises
        h2
          padding-right: 0
        > nav
          grid-template-columns: repeat(3, minmax(100px, 1fr))
          grid-template-areas: "carda cardb cardc" "cardd cardd cardd"
          gap: 10px
          &::after, &::before
            display: none
          > a
            font-size: var(--fontSize-xs)
            padding: 15px 0px
            &::before
              width: 50px
              height: 50px
              background-size: cover
            &::after
              display: none
            > em

              display: none
            &:nth-child(4)
              em
                padding: 10px
                &::before,&::after
                  display: none
      #infos-contact, #mentions
        h2
          padding-right: 0
        > nav
          display: flex
          flex-flow: column nowrap
          &::after, &::before
            display: none
          > a
            font-size: var(--fontSize-sm)
            &:nth-child(2)
              padding: 20px
      #projets
        > .slider__content
          flex-flow: row nowrap
          width: 100%
          overflow: hidden
          overflow-x: scroll
          scrollbar-color:  var(--color-green) var(--surface-backgroundColor-secondary)
          scrollbar-width: thin
          padding-bottom: 20px
        >.slider__nav
          display: none
      #project-details
        width: auto
        > header
          flex-direction: column
          > img, &::after
            display: none
          > .btn
            right: revert
            bottom: 15px
            left: 50%
            transform: translateX(-50%)
          > aside
              > section
                > img
                  width: 50px
        .masonry-container
          column-count: 1
          > img
            // max-width: 300px
      #contact
        margin-right: 20px
        margin-left: 20px
        h3
          flex-direction: column
          row-gap: 10px
    > footer
      flex-flow: column nowrap
      row-gap: 10px
      margin-right: 20px
      margin-left: 20px
      > span
        display: flex
        flex-flow: column wrap
        justify-content: center
        align-items: center
        text-align: center
        max-width: 260px
        font-size: var(--fontSize-xs)